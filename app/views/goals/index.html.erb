<p id="notice"><%= notice %></p>

<h1>Goals</h1>

<div class="fixed-action-btn">
  <a class="btn-floating btn-large red" href="<%= new_goal_url %>">
    <i class="large material-icons">add</i>
  </a>
</div>

<div class="row">
<% @goals.each do |goal| %>

      <a class="modal-trigger" href="#modal<%= goal.id %>">
      <div class="col s12 m3">
        <div class="card blue-grey darken-1 hoverable">
          <div class="card-content white-text">
            <i class="center-align large material-icons center-block"><%= goal.icon %></i>

            <span class="center-align card-title truncate"><%= goal.title %></span>
          </div>
          <div class="card-action">
            <span class="new badge blue darken-4">Level <%= goal.level %></span>
          </div>
        </div>
      </div>
      </a>

      <!-- Modal Structure -->
      <div id="modal<%= goal.id %>" class="modal">
        <div class="modal-content">
          <h4>Description</h4>
          <p><%= goal.description %></p>
          <p>tags...</p>
        </div>
        <div class="modal-footer">
          <%= link_to 'Show', goal ,class:"modal-action waves-effect waves-green btn-flat"%>
          <%= link_to 'Edit', edit_goal_path(goal) ,class:"modal-action waves-effect waves-green btn-flat" %>
          <%= link_to 'Destroy', goal, method: :delete, data: { confirm: 'Are you sure?' } ,class:"modal-action waves-effect waves-green btn-flat" %>
        </div>
      </div>
<% end %>
</div>

<script>
$(document).ready(function(){
// the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
$('.modal').modal({
    dismissible: true
});
});
</script>